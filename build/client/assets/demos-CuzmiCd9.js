import{a as u,p as r,w as G}from"./chunk-UIGDSWPH-74DChMva.js";import{c as j,a as C,u as I,V as $,Y}from"./index-CTgVHcLT.js";import{P as y,C as W,a as J,b as K,e as Q,c as Z,d as ee,f as te,I as re,p as oe}from"./card-BHBM_7ou.js";import{e as ae,c as se,P as R,d as ne,p as ie,T as ce,m as le,b as de}from"./tooltip-Cbn8UTTp.js";import{u as ue,A as pe}from"./AppContext-CqorEOdR.js";import{B as fe}from"./button-D-wuaAT5.js";import{P as me}from"./PageHeader-DI9xyjIr.js";import"./index-Boai_r5o.js";const he=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],xe=j("pause",he);const ve=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],ge=j("play",ve);const be=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],we=j("rotate-ccw",be);var Ce="Separator",E="horizontal",Se=["horizontal","vertical"],M=u.forwardRef((e,t)=>{const{decorative:a,orientation:s=E,...o}=e,l=Pe(s)?s:E,n=a?{role:"none"}:{"aria-orientation":l==="vertical"?l:void 0,role:"separator"};return r.jsx(y.div,{"data-orientation":l,...n,...o,ref:t})});M.displayName=Ce;function Pe(e){return Se.includes(e)}var je=M;function ye({className:e,orientation:t="horizontal",decorative:a=!0,...s}){return r.jsx(je,{"data-slot":"separator",decorative:a,orientation:t,className:C("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",e),...s})}var P="Switch",[Ne]=se(P),[ke,Ee]=Ne(P),O=u.forwardRef((e,t)=>{const{__scopeSwitch:a,name:s,checked:o,defaultChecked:l,required:i,disabled:n,value:c="on",onCheckedChange:f,form:h,...d}=e,[p,m]=u.useState(null),x=I(t,w=>m(w)),v=u.useRef(!1),g=p?h||!!p.closest("form"):!0,[b,q]=ae({prop:o,defaultProp:l??!1,onChange:f,caller:P});return r.jsxs(ke,{scope:a,checked:b,disabled:n,children:[r.jsx(R.button,{type:"button",role:"switch","aria-checked":b,"aria-required":i,"data-state":z(b),"data-disabled":n?"":void 0,disabled:n,value:c,...d,ref:x,onClick:ne(e.onClick,w=>{q(X=>!X),g&&(v.current=w.isPropagationStopped(),v.current||w.stopPropagation())})}),g&&r.jsx(B,{control:p,bubbles:!v.current,name:s,value:c,checked:b,required:i,disabled:n,form:h,style:{transform:"translateX(-100%)"}})]})});O.displayName=P;var A="SwitchThumb",D=u.forwardRef((e,t)=>{const{__scopeSwitch:a,...s}=e,o=Ee(A,a);return r.jsx(R.span,{"data-state":z(o.checked),"data-disabled":o.disabled?"":void 0,...s,ref:t})});D.displayName=A;var _e="SwitchBubbleInput",B=u.forwardRef(({__scopeSwitch:e,control:t,checked:a,bubbles:s=!0,...o},l)=>{const i=u.useRef(null),n=I(i,l),c=ue(a),f=ie(t);return u.useEffect(()=>{const h=i.current;if(!h)return;const d=window.HTMLInputElement.prototype,m=Object.getOwnPropertyDescriptor(d,"checked").set;if(c!==a&&m){const x=new Event("click",{bubbles:s});m.call(h,a),h.dispatchEvent(x)}},[c,a,s]),r.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:a,...o,tabIndex:-1,ref:n,style:{...o.style,...f,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});B.displayName=_e;function z(e){return e?"checked":"unchecked"}var Te=O,Ie=D;function $e({className:e,...t}){return r.jsx(Te,{"data-slot":"switch",className:C("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent shadow-xs transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:r.jsx(Ie,{"data-slot":"switch-thumb",className:C("bg-background dark:data-[state=unchecked]:bg-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0")})})}function L({title:e,description:t,defaultEnabled:a=!1,onEnabled:s,disabled:o,children:l}){const[i,n]=u.useState(a),c=f=>{n(f),s(f)};return r.jsxs(W,{className:`${i?"ring-2 ring-primary ring-inset":""} shadow-none`,children:[r.jsxs(J,{children:[r.jsx(K,{className:o?"opacity-50":"",children:e}),t&&r.jsx(Q,{className:o?"opacity-50":"",children:t}),r.jsx(Z,{children:r.jsxs(ce,{children:[r.jsx(le,{asChild:!0,children:r.jsx("div",{children:r.jsx($e,{checked:i,onCheckedChange:c,disabled:!!o})})}),r.jsx(de,{side:"right",children:o?r.jsxs(r.Fragment,{children:["Not available",r.jsx("p",{className:"text-[0.625rem]",children:o})]}):i?"Turn demo off":"Turn demo on"})]})})]}),i&&l&&r.jsx(ee,{className:"space-y-2",children:l})]})}function Re(e,t,a){const s=m=>parseInt(m.replace("#",""),16),o=s(e)>>16&255,l=s(e)>>8&255,i=s(e)&255,n=s(t)>>16&255,c=s(t)>>8&255,f=s(t)&255,h=Math.round(o+(n-o)*a),d=Math.round(l+(c-l)*a),p=Math.round(i+(f-i)*a);return`#${(1<<24|h<<16|d<<8|p).toString(16).slice(1)}`}function Me(e,t=[]){let a=[];function s(l,i){const n=u.createContext(i);n.displayName=l+"Context";const c=a.length;a=[...a,i];const f=d=>{const{scope:p,children:m,...x}=d,v=p?.[e]?.[c]||n,g=u.useMemo(()=>x,Object.values(x));return r.jsx(v.Provider,{value:g,children:m})};f.displayName=l+"Provider";function h(d,p){const m=p?.[e]?.[c]||n,x=u.useContext(m);if(x)return x;if(i!==void 0)return i;throw new Error(`\`${d}\` must be used within \`${l}\``)}return[f,h]}const o=()=>{const l=a.map(i=>u.createContext(i));return function(n){const c=n?.[e]||l;return u.useMemo(()=>({[`__scope${e}`]:{...n,[e]:c}}),[n,c])}};return o.scopeName=e,[s,Oe(o,...t)]}function Oe(...e){const t=e[0];if(e.length===1)return t;const a=()=>{const s=e.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(l){const i=s.reduce((n,{useScope:c,scopeName:f})=>{const d=c(l)[`__scope${f}`];return{...n,...d}},{});return u.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return a.scopeName=t.scopeName,a}var N="Progress",k=100,[Ae]=Me(N),[De,Be]=Ae(N),V=u.forwardRef((e,t)=>{const{__scopeProgress:a,value:s=null,max:o,getValueLabel:l=ze,...i}=e;(o||o===0)&&!_(o)&&console.error(Le(`${o}`,"Progress"));const n=_(o)?o:k;s!==null&&!T(s,n)&&console.error(Ve(`${s}`,"Progress"));const c=T(s,n)?s:null,f=S(c)?l(c,n):void 0;return r.jsx(De,{scope:a,value:c,max:n,children:r.jsx(y.div,{"aria-valuemax":n,"aria-valuemin":0,"aria-valuenow":S(c)?c:void 0,"aria-valuetext":f,role:"progressbar","data-state":U(c,n),"data-value":c??void 0,"data-max":n,...i,ref:t})})});V.displayName=N;var F="ProgressIndicator",H=u.forwardRef((e,t)=>{const{__scopeProgress:a,...s}=e,o=Be(F,a);return r.jsx(y.div,{"data-state":U(o.value,o.max),"data-value":o.value??void 0,"data-max":o.max,...s,ref:t})});H.displayName=F;function ze(e,t){return`${Math.round(e/t*100)}%`}function U(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function S(e){return typeof e=="number"}function _(e){return S(e)&&!isNaN(e)&&e>0}function T(e,t){return S(e)&&!isNaN(e)&&e<=t&&e>=0}function Le(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${k}\`.`}function Ve(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${k} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var Fe=V,He=H;function Ue({className:e,value:t,...a}){return r.jsx(Fe,{"data-slot":"progress",className:C("bg-primary/20 relative h-2 w-full overflow-hidden rounded-full",e),...a,children:r.jsx(He,{"data-slot":"progress-indicator",className:"bg-primary h-full w-full flex-1 transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})})}const qe="#fff4e6",Xe="#ff7c43";function Ge(){const{mapData:e,mapView:t}=$(),a=u.useRef(!1),s=u.useRef({});u.useEffect(()=>{s.current=e.getByType("space").reduce((d,p)=>{const m=t.getState(p);return m&&(d[p.id]=m),d},{})},[e,t]);const[o,l]=u.useState(13.5);function i(d){a.current=d,d||(c(!1),h(void 0)),e.getByType("space").forEach(p=>{const m=d?Re(qe,Xe,oe(p.id,o*3)):s.current[p.id]?.color||"white",x=d?m:s.current[p.id]?.hoverColor||"lightgrey";t.updateState(p,{color:m,hoverColor:x})})}const[n,c]=u.useState(!1);u.useEffect(()=>{const d=setInterval(()=>{o==24?c(!1):n&&(l(p=>p+.5),i(!0))},250);return()=>clearInterval(d)});const f=()=>{o==24&&l(0),c(!n)},{setHeatmapSpaceId:h}=u.useContext(pe);return Y("click",({spaces:d})=>{a.current&&d.length&&h(d[0].id)}),r.jsxs(L,{title:"Heatmap",description:"Show a heatmap overlay on the map",onEnabled:i,defaultEnabled:a.current,children:[r.jsx(Ue,{value:o/.24}),r.jsxs("div",{className:"flex items-center justify-between mt-2",children:[r.jsx(fe,{onClick:f,variant:"ghost",size:"icon",className:"size-8",children:n?r.jsx(xe,{}):o==24?r.jsx(we,{}):r.jsx(ge,{})}),r.jsx("span",{className:"text-xs text-muted-foreground",children:te(o)})]}),r.jsx(ye,{}),r.jsxs("p",{children:[r.jsx(re,{size:"14",className:"inline align-middle mr-1 text-muted-foreground"}),r.jsx("i",{className:"text-muted-foreground text-xs",children:"Click on a space to show its daycurve."})]})]})}function Ye(){const{mapData:e,mapView:t}=$();function a(o){t&&(o?t.StackedMaps.expand({distanceBetweenFloors:"auto"}):t.StackedMaps.collapse())}const s=e.getByType("floor").length;return r.jsx(L,{title:"Stacked floors",description:"Show all floors on top of eachother",defaultEnabled:t.StackedMaps.state==="expanded",onEnabled:a,disabled:s<2?"Choose a different map with multiple floors.":void 0})}const ot=G(function(){return r.jsxs(r.Fragment,{children:[r.jsx(me,{title:"Demos"}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Ye,{}),r.jsx(Ge,{})]})]})});export{ot as default};
